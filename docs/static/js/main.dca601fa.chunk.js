(this["webpackJsonpbananagrams-helper"]=this["webpackJsonpbananagrams-helper"]||[]).push([[0],{14:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var n=a(8),r=a(4),i=a(0),s=(a(14),a(3)),o=a.n(s),c=a(11),u=a.n(c),l=a(1),h=a(2),d=a(9),b=function(){function t(e,a,n){Object(l.a)(this,t),this.board=a||new Map,this.columns=n||1,this.tray=e}return Object(h.a)(t,[{key:"getBoard",value:function(){var t=this,e=Math.max.apply(Math,Object(d.a)(this.board.keys())),a=0;return Array(e).fill(!0).map((function(e,n){var r=t.board.get(n+1);if(r){var i=Math.max.apply(Math,[a].concat(Object(d.a)(r.keys())));i>a&&(a=i);var s=Array(a).fill(" ");return r.forEach((function(t,e){s[e-1]=t})),s}return Array(a).fill(" ")}))}},{key:"getColSegments",value:function(){}},{key:"getRowSegments",value:function(){}},{key:"getStateAfterPlacement",value:function(e,a){e.row;var n=e.col,r=e.down,i=e.word,s=this.board,o=this.columns,c=this.tray,u=!1;if(r)i.split("").forEach((function(t,e){if(!u){var a=r.get(n),r=s.get(r+e);if(a){if(a!==t)return void(u=!0)}else c=c.replace(t,"");r.set(n,t)}}));else{var l=s.get(l);i.split("").forEach((function(t,e){if(!u){var a=n+e,r=l.get(a);if(r){if(r!==t)return void(u=!0)}else c=c.replace(t,"");l.set(a,t),a>o&&(o=a)}}))}return!u&&new t(c,s,o)}},{key:"getTray",value:function(){return this.tray}},{key:"isSolution",value:function(){return!this.tray}}]),t}(),v=function(){function t(){Object(l.a)(this,t);this.trie=new Map}return Object(h.a)(t,[{key:"getMap",value:function(){return this.trie}}]),t}(),f=function(){function t(){Object(l.a)(this,t);var e=new v;this.trie=e.getMap()}return Object(h.a)(t,[{key:"getPossiblePlacements",value:function(t){var e=t.tray,a=(t.rowSegments,t.colSegments,new Set);this.getWordsFromTray(e);return a}},{key:"getWordsFromTray",value:function(t){}},{key:"has",value:function(t,e){return!!t&&(e.length>1?this.has(t.get(e[0]),e.slice(1)):t.has(e))}},{key:"isAWord",value:function(t){var e=t.split("");return e.push("_"),this.has(this.trie,e)}}]),t}(),j=function(){function t(){Object(l.a)(this,t),this.boardStates=new Map,this.dictionary=new f,this.running=!1}return Object(h.a)(t,[{key:"getPossibleNextStates",value:function(t){var e=this,a=this.dictionary.getPossiblePlacements({tray:t.getTray(),rowSegments:t.getRowSegments(),colSegments:t.getColSegments()}),n=new Set;return a.forEach((function(a){var r=t.getStateAfterPlacement(a,e.dictionary);r&&n.add(r)})),n}},{key:"onUpdate",value:function(t){this.updateCallback=t}},{key:"update",value:function(t,e){var a={message:t};e?(a.tray=e.getTray(),a.board=e.getBoard()):(a.tray="",a.board=[[]]),this.updateCallback(a)}},{key:"solve",value:function(t,e){var a=this,n=function(t){return new b(t)}(t),r=this.getPossibleNextStates(n);if(this.boardStates.clear(),r.size){var i=1,s=!1;if(r.forEach((function(t){s||(t.isSolution()?s=t:(a.boardStates.set(i.toString(),t),i++))})),s)return this.running=!1,void this.update("Solution found!",s);this.running=Symbol(),this.tryBoardState(this.running,"1")}else this.running=!1,this.update("No solutions possible!",n)}},{key:"tryBoardState",value:function(t,e){var a=this;if(!1===this.running||this.running===t){if(!this.boardStates.has(e)){var n=e.split(":"),r=n.length;return r<2?(this.running=!1,void this.update("No solutions possible!")):(n[r-2]=parseInt(n[r-2])+1,n[r-1]=0,void this.tryBoardState(t,n.join(":")))}var i=this.boardStates.get(e),s=this.getPossibleNextStates(i);if(i.setPossibleNextStates(s),s.size){var o=1,c=!1;if(s.forEach((function(t){c||(t.isSolution()?c=t:(a.boardStates.set("".concat(e,":").concat(o.toString()),t),o++))})),c)return this.running=!1,void this.update("Solution found!",c);var u=e.split(":"),l=u.length-1;u[l]=parseInt(u[l])+1,this.tryBoardState(t,u.join(":"))}}}}]),t}(),g=function(){var t=Object(s.useState)(""),e=Object(r.a)(t,2),a=e[0],o=e[1],c=Object(s.useState)([[]]),u=Object(r.a)(c,2),l=u[0],h=u[1],d=Object(s.useState)(""),b=Object(r.a)(d,2),v=b[0],f=b[1],g=Object(s.useState)(""),p=Object(r.a)(g,2),y=p[0],O=p[1],S=Object(s.useState)(""),m=Object(r.a)(S,2),x=m[0],k=m[1],w=new j;return w.onUpdate((function(t){var e=t.tray,a=t.message,n=t.board;k(e),O(a),h(n)})),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{class:"header",children:Object(i.jsx)("h1",{children:"Bananagrams Solver"})}),Object(i.jsx)("div",{class:"letterbox",children:Object(i.jsx)("input",{type:"text",placeholder:"yourtileshere",value:v,onInput:function(t){var e=t.target.value.replace(/[^A-Z]/gi,"").toLowerCase();f(e),w.solve(e,a)}})}),Object(i.jsxs)("div",{class:"controls",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Word Blacklist"}),Object(i.jsx)("small",{children:"(Comma-separated)"})]}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"text",value:a,onInput:function(t){var e=t.target.value.replace(/[^A-Z]/gi,"").toLowerCase();o(e),w.solve(v,e)}})})]}),Object(i.jsx)("div",{class:"boardbox",children:Object(i.jsx)("div",{class:"board",children:l.map((function(t){return Object(i.jsx)("div",{class:"row",children:t.map((function(t){var e;return Object(i.jsx)("div",(e={class:"cell"},Object(n.a)(e,"class"," "===t?"empty":""),Object(n.a)(e,"children",t),e))}))})}))})}),Object(i.jsx)("div",{class:"tray",children:x}),Object(i.jsx)("div",{class:"message",children:y})]})};u.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("app"))}},[[19,1,2]]]);
//# sourceMappingURL=main.dca601fa.chunk.js.map